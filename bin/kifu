#!/usr/bin/env ruby

$: << File.join(File.dirname(__FILE__), '/../lib' )
require 'kifu'

def print_short_usage
  puts "Usage: kifu command [arguments...] [options...]"
end

if ARGV.empty?
  print_short_usage
  exit
end

command = ARGV.shift
file = ARGV.shift

case command
when "info"
  parsed_data = Kifu::SgfReader.new(file).parse
  game = Kifu::GameBuilder.new.build_from_sgf(parsed_data)
  Kifu::Printer.new(game).print_info
else
  print_short_usage
end
